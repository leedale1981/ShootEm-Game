!function(e){var t={};function i(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class a{}t.GameConfig=a,a.canvasHeight=720,a.canvasWidth=1280,a.starDensity=100},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(2);class r extends a.GameObject{constructor(e,t){super(e),this.options=t}render(){this.ctx.drawImage(this.options.image,this.options.x,this.options.y,this.options.width,this.options.height)}moveLeft(){this.options.x=this.options.x-this.options.deltaX}moveRight(){this.options.x=this.options.x+this.options.deltaX}moveForward(){this.options.y=this.options.y-this.options.deltaYForward}moveBack(){let e=this;e.options.y>=e.ctx.canvas.height?e.options.y=0:e.options.y=e.options.y+e.options.deltaYBackward}swapImage(e){this.options.image=e}getXCoord(){return this.options.x}getYCoord(){return this.options.y}}t.Sprite=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GameObject=class{constructor(e){this.ctx=null,this.ctx=e}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(4);let r,s,o;window.onload=()=>{r=document.getElementById("canvas"),s=r.getContext("2d"),(o=new a.GameLoop(s)).start()}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(0),r=i(2),s=i(5),o=i(6),n=i(8);class p extends r.GameObject{constructor(e){super(e);this.setupBackgroundStars(),this.playerSprite=new o.PlayerSpaceShip(e),this.setupPlayerSpaceshipKeyboardInputs()}setupPlayerSpaceshipKeyboardInputs(){this.keyboardInput=new s.KeyboardInput,this.keyboardInput.addKeycodeCallback(37,this.playerSprite.moveLeft.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(65,this.playerSprite.moveLeft.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(37,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(65,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(38,this.playerSprite.moveForward.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(87,this.playerSprite.moveForward.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(38,this.playerSprite.swapImageToNoThrust.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(87,this.playerSprite.swapImageToNoThrust.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(39,this.playerSprite.moveRight.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(68,this.playerSprite.moveRight.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(39,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(68,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(40,this.playerSprite.moveBack.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(83,this.playerSprite.moveBack.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(32,this.playerSprite.fireBullet.bind(this.playerSprite))}setupBackgroundStars(){let e=this;e.stars=[];for(let t=0;t<a.GameConfig.starDensity;t++)e.stars.push(new n.Star(e.ctx))}start(){window.requestAnimationFrame(this.start.bind(this)),this.keyboardInput.inputLoop(),this.clearCanvas(),this.moveStars(),this.renderPlayerSprite()}moveStars(){this.stars.forEach(e=>{e.moveBack(),e.render()})}clearCanvas(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,a.GameConfig.canvasWidth,a.GameConfig.canvasHeight)}renderPlayerSprite(){this.playerSprite.render()}}t.GameLoop=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KeyboardInput=class{constructor(){this.keyCallback={},this.keyUpCallback={},this.keyDown={},this.keyUp={},this.addKeycodeCallback=(e,t)=>{this.keyCallback[e]=t,this.keyDown[e]=!1},this.addKeycodeUpCallback=(e,t)=>{this.keyUpCallback[e]=t,this.keyUp[e]=!1},this.keyboardDown=e=>{null!=this.keyCallback[e.keyCode]&&e.preventDefault(),this.keyDown[e.keyCode]=!0,this.keyUp[e.keyCode]=!1},this.keyboardUp=e=>{this.keyUp[e.keyCode]=!0,this.keyDown[e.keyCode]=!1},this.inputLoop=()=>{for(var e in this.keyDown){if(this.keyDown[e])null!=(t=this.keyCallback[e])&&t()}for(var e in this.keyUp){var t;if(this.keyUp[e])null!=(t=this.keyUpCallback[e])&&(t(),this.keyUp[e]=!1)}},document.addEventListener("keydown",this.keyboardDown),document.addEventListener("keyup",this.keyboardUp)}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(1),r=i(0),s=i(7);class o extends a.Sprite{constructor(e){let t=document.getElementById("player-spaceship");super(e,{height:60,width:60,x:r.GameConfig.canvasWidth/2-30,y:r.GameConfig.canvasHeight-50,image:t,deltaX:4,deltaYForward:5,deltaYBackward:3}),this.bullets=[],this.canFire=!0}swapImageToThrust(){let e=document.getElementById("player-spaceship-with-thrust");super.swapImage(e)}swapImageToNoThrust(){let e=document.getElementById("player-spaceship");super.swapImage(e)}moveForward(){this.swapImageToThrust(),super.moveForward()}moveLeft(){this.skew(),super.moveLeft()}moveRight(){this.skew(),super.moveRight()}moveBack(){this.swapImageToNoThrust(),super.moveBack()}fireBullet(){let e=this;if(e.canFire){let t=new s.Bullet(e.ctx,e);t.moveForward(),e.bullets.push(t),e.canFire=!1,setTimeout(()=>{e.canFire=!0},300)}}skew(){let e=this;e.options.width>40&&(e.options.width=e.options.width/1.1)}removeSkew(){this.options.width=60}render(){this.bullets.forEach(e=>{e.render()}),super.render()}}t.PlayerSpaceShip=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(1);class r extends a.Sprite{constructor(e,t){let i=document.getElementById("player-bullet");super(e,{height:20,width:20,x:t.getXCoord()+20,y:t.getYCoord()-20,image:i,deltaX:0,deltaYForward:1,deltaYBackward:1})}moveForward(){let e=this;setTimeout(()=>{e.options.y>0&&(e.options.y=e.options.y-e.options.deltaYForward,e.moveForward())},5)}}t.Bullet=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(1),r=i(0);class s extends a.Sprite{constructor(e){super(e,{height:2,width:2,x:Math.floor(Math.random()*r.GameConfig.canvasWidth)+1,y:Math.floor(Math.random()*r.GameConfig.canvasHeight)+1,image:null,deltaX:2,deltaYForward:1,deltaYBackward:2})}render(){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=this.options.width,this.ctx.arc(this.options.x,this.options.y,1,0,Math.PI),this.ctx.stroke()}}t.Star=s}]);
//# sourceMappingURL=app.js.map