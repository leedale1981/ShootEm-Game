!function(e){var t={};function s(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=3)}([function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{}t.GameConfig=i,i.canvasHeight=720,i.canvasWidth=1280,i.starDensity=100},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(2);class r extends i.GameObject{constructor(e,t){super(e),this.options=t}render(){this.ctx.drawImage(this.options.image,this.options.x,this.options.y,this.options.width,this.options.height)}moveLeft(){this.options.x=this.options.x-this.options.deltaX}moveRight(){this.options.x=this.options.x+this.options.deltaX}moveForward(){this.options.y=this.options.y-this.options.deltaYForward}moveBack(){let e=this;e.options.y>=e.ctx.canvas.height?e.options.y=0:e.options.y=e.options.y+e.options.deltaYBackward}swapImage(e){this.options.image=e}getXCoord(){return this.options.x}getYCoord(){return this.options.y}}t.Sprite=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GameObject=class{constructor(e){this.ctx=null,this.ctx=e}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(4);let r,a,o;window.onload=()=>{r=document.getElementById("canvas"),a=r.getContext("2d"),(o=new i.GameLoop(a)).render()}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(0),r=s(2),a=s(5),o=s(6),n=s(8),d=s(9);class p extends r.GameObject{constructor(e){super(e);this.setupBackgroundStars(),this.playerSprite=new o.PlayerSpaceShip(e),this.setupPlayerSpaceshipKeyboardInputs()}setupPlayerSpaceshipKeyboardInputs(){this.keyboardInput=new a.KeyboardInput,this.keyboardInput.addKeycodeCallback(37,this.playerSprite.moveLeft.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(65,this.playerSprite.moveLeft.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(37,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(65,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(38,this.playerSprite.moveForward.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(87,this.playerSprite.moveForward.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(38,this.playerSprite.swapImageToNoThrust.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(87,this.playerSprite.swapImageToNoThrust.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(39,this.playerSprite.moveRight.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(68,this.playerSprite.moveRight.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(39,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeUpCallback(68,this.playerSprite.removeSkew.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(40,this.playerSprite.moveBack.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(83,this.playerSprite.moveBack.bind(this.playerSprite)),this.keyboardInput.addKeycodeCallback(32,this.playerSprite.fireBullet.bind(this.playerSprite))}setupBackgroundStars(){let e=this;e.stars=[];for(let t=0;t<i.GameConfig.starDensity;t++)e.stars.push(new n.Star(e.ctx))}setupLevels(){this.levels=[],this.levels.push(new d.LevelOne)}render(){window.requestAnimationFrame(this.render.bind(this)),this.keyboardInput.inputLoop(),this.clearCanvas(),this.moveStars(),this.renderPlayerSprite()}moveStars(){this.stars.forEach(e=>{e.moveBack(),e.render()})}clearCanvas(){this.ctx.fillStyle="black",this.ctx.fillRect(0,0,i.GameConfig.canvasWidth,i.GameConfig.canvasHeight)}renderPlayerSprite(){this.playerSprite.render()}}t.GameLoop=p},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KeyboardInput=class{constructor(){this.keyCallback={},this.keyUpCallback={},this.keyDown={},this.keyUp={},this.addKeycodeCallback=(e,t)=>{this.keyCallback[e]=t,this.keyDown[e]=!1},this.addKeycodeUpCallback=(e,t)=>{this.keyUpCallback[e]=t,this.keyUp[e]=!1},this.keyboardDown=e=>{null!=this.keyCallback[e.keyCode]&&e.preventDefault(),this.keyDown[e.keyCode]=!0,this.keyUp[e.keyCode]=!1},this.keyboardUp=e=>{this.keyUp[e.keyCode]=!0,this.keyDown[e.keyCode]=!1},this.inputLoop=()=>{for(var e in this.keyDown){if(this.keyDown[e])null!=(t=this.keyCallback[e])&&t()}for(var e in this.keyUp){var t;if(this.keyUp[e])null!=(t=this.keyUpCallback[e])&&(t(),this.keyUp[e]=!1)}},document.addEventListener("keydown",this.keyboardDown),document.addEventListener("keyup",this.keyboardUp)}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(0),a=s(7);class o extends i.Sprite{constructor(e){let t=document.getElementById("player-spaceship");super(e,{height:60,width:60,x:r.GameConfig.canvasWidth/2-30,y:r.GameConfig.canvasHeight-50,image:t,deltaX:4,deltaYForward:5,deltaYBackward:3}),this.bullets=[],this.canFire=!0}swapImageToThrust(){let e=document.getElementById("player-spaceship-with-thrust");super.swapImage(e)}swapImageToNoThrust(){let e=document.getElementById("player-spaceship");super.swapImage(e)}moveForward(){this.swapImageToThrust(),super.moveForward()}moveLeft(){this.skew(),super.moveLeft()}moveRight(){this.skew(),super.moveRight()}moveBack(){this.swapImageToNoThrust(),super.moveBack()}fireBullet(){let e=this;if(e.canFire){let t=new a.Bullet(e.ctx,e);t.moveForward(),e.bullets.push(t),e.canFire=!1,setTimeout(()=>{e.canFire=!0},300)}}skew(){let e=this;e.options.width>40&&(e.options.width=e.options.width/1.1)}removeSkew(){this.options.width=60}render(){this.bullets.forEach(e=>{e.render()}),super.render()}}t.PlayerSpaceShip=o},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1);class r extends i.Sprite{constructor(e,t){let s=document.getElementById("player-bullet");super(e,{height:20,width:20,x:t.getXCoord()+20,y:t.getYCoord()-20,image:s,deltaX:0,deltaYForward:1,deltaYBackward:1})}moveForward(){let e=this;setTimeout(()=>{e.options.y>0&&(e.options.y=e.options.y-e.options.deltaYForward,e.moveForward())},5)}}t.Bullet=r},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(1),r=s(0);class a extends i.Sprite{constructor(e){super(e,{height:2,width:2,x:Math.floor(Math.random()*r.GameConfig.canvasWidth)+1,y:Math.floor(Math.random()*r.GameConfig.canvasHeight)+1,image:null,deltaX:2,deltaYForward:1,deltaYBackward:2})}render(){this.ctx.beginPath(),this.ctx.strokeStyle="white",this.ctx.lineWidth=this.options.width,this.ctx.arc(this.options.x,this.options.y,1,0,Math.PI),this.ctx.stroke()}}t.Star=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(10),r=s(11);class a extends i.Level{constructor(){super(),this.setupWaves(),this.waveNumber=0,this.currentWave=this.waves[this.waveNumber]}setupWaves(){this.waves=[],this.waves.push(this.getFirstWave())}render(){this.currentWave.isCompleted&&(this.waveNumber++,this.currentWave=this.waves[this.waveNumber]),this.currentWave.render()}getFirstWave(){return new r.Wave}}t.LevelOne=a},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Level=class{}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.Wave=class{constructor(){this.enemies=[],this.completed=!1,this.startDelay=1e3,this.startCount=0,this.setupEnemies()}render(){let e=this;e.startCount<=e.startDelay?(this.renderStartImage(),e.startCount++):e.enemies.forEach(e=>{e.render()})}renderStartImage(){}setupEnemies(){}isCompleted(){return this.completed}}}]);
//# sourceMappingURL=app.js.map